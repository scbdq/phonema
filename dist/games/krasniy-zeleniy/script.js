function initKrasniyZeleniy(){const y=[{word:"\u0411\u0430\u043D\u0430\u043D",icon:"\u{1F34C}",image:"assets/images/krasniy-zeleniy/banan.png",sequence:["\u043A\u0430\u0431\u0430\u043D","\u043D\u0430\u0433\u0430\u043D","\u0431\u0430\u043D\u0430\u043D","\u043B\u0430\u0434\u0430\u043D","\u0431\u0430\u043D\u0430\u043D","\u043D\u0430\u0431\u0430\u043D","\u0431\u0430\u043D\u0430\u043D","\u043A\u0430\u0437\u0430\u043D"]},{word:"\u0411\u0443\u0434\u043A\u0430",icon:"\u{1F3E0}",image:"assets/images/krasniy-zeleniy/budka.png",sequence:["\u0431\u0443\u0434\u043A\u0430","\u0434\u0443\u0434\u043A\u0430","\u0443\u0442\u043A\u0430","\u0431\u0443\u0434\u043A\u0430","\u0431\u0443\u043A\u0432\u0430","\u0431\u0443\u0434\u043A\u0430","\u043A\u0443\u0440\u0442\u043A\u0430","\u0431\u0443\u0434\u043A\u0430"]},{word:"\u041F\u0430\u043D\u0430\u043C\u0430",icon:"\u{1F452}",image:"assets/images/krasniy-zeleniy/panama.png",sequence:["\u0444\u0430\u043D\u0430\u043C\u0430","\u043A\u0430\u0442\u0430\u043C\u0430","\u043F\u0430\u043D\u0430\u043C\u0430","\u0442\u043E\u043C\u0430\u043D\u0430","\u0441\u0430\u043C\u0430\u043D\u0430","\u0432\u0430\u0434\u0430\u043C\u0430","\u043F\u0430\u043D\u0430\u043C\u0430","\u043D\u0430\u043F\u0430\u043C\u0430"]}];let o=0,a=[],r=!1,p="",i=!1,l=0,s=null;const d=document.getElementById("gz-image-container"),c=document.querySelector(".item-word"),m=document.getElementById("gz-item-image"),L=document.getElementById("gz-item-label"),u=document.getElementById("gz-button-correct"),g=document.getElementById("gz-button-incorrect"),E=document.getElementById("gz-listen"),f=document.getElementById("gz-feedback"),B={\u0431\u0430\u043D\u0430\u043D:"banan",\u043A\u0430\u0431\u0430\u043D:"kaban",\u043D\u0430\u0433\u0430\u043D:"nagan",\u043B\u0430\u0434\u0430\u043D:"ladan",\u043D\u0430\u0431\u0430\u043D:"naban",\u043A\u0430\u0437\u0430\u043D:"kazan",\u0431\u0443\u0434\u043A\u0430:"budka",\u0434\u0443\u0434\u043A\u0430:"dudka",\u0443\u0442\u043A\u0430:"utka",\u0431\u0443\u043A\u0432\u0430:"bukva",\u043A\u0443\u0440\u0442\u043A\u0430:"kurtka",\u043F\u0430\u043D\u0430\u043C\u0430:"panama",\u0444\u0430\u043D\u0430\u043C\u0430:"fanama",\u043A\u0430\u0442\u0430\u043C\u0430:"katana",\u0442\u043E\u043C\u0430\u043D\u0430:"tomana",\u0441\u0430\u043C\u0430\u043D\u0430:"sanama",\u0432\u0430\u0434\u0430\u043C\u0430:"vadama",\u043D\u0430\u043F\u0430\u043C\u0430:"napama"};function w(){s&&(s.pause(),s.currentTime=0,s=null)}function C(e){w();const t=B[e.toLowerCase()];if(t){const n=new Audio(`assets/audio/krasniy-zeleniy/${t}.mp3`);s=n,n.play().catch(()=>{window.Voice&&window.Voice.speak(e)})}else window.Voice&&window.Voice.speak(e)}function I(e){const t=[...e];for(let n=t.length-1;n>0;n--){const z=Math.floor(Math.random()*(n+1));[t[n],t[z]]=[t[z],t[n]]}return t}function h(){if(window.UI&&window.UI.clearToasts(),w(),o>=a.length){U();return}i=!1,d.classList.remove("show"),setTimeout(()=>{const e=a[o];e.image?(c.classList.remove("no-image"),c.classList.add("has-image"),m.src=e.image,m.alt=e.word,L.textContent=""):(c.classList.remove("has-image"),c.classList.add("no-image"),m.removeAttribute("src"),L.textContent=e.icon||e.word),d.classList.add("show"),r=!1,p=""},500)}function b(e){if(!i)return;i=!1,e===r?(l++,window.UI?(UI.toast("\u041F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u043E!","success"),UI.celebrate()):k("\u041F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u043E!","correct"),g.classList.add("hop")):(window.UI?UI.toast("\u041D\u0435\u0432\u0435\u0440\u043D\u043E","error"):k("\u041D\u0435\u0432\u0435\u0440\u043D\u043E","incorrect"),u.classList.add("hop")),setTimeout(()=>{u.classList.remove("hop"),g.classList.remove("hop")},500),o++,setTimeout(h,2e3)}function k(e,t){f.textContent=e,f.className=`feedback-area show ${t}`,setTimeout(()=>{f.classList.remove("show")},1500)}function v(){o=0,l=0,a=I(y),h()}function U(){d.classList.remove("show"),w(),window.UI?UI.result({title:"\u041C\u043E\u043B\u043E\u0434\u0435\u0446!",score:l,total:a.length,onReplay:v,onClose:v}):k("\u041C\u043E\u043B\u043E\u0434\u0435\u0446!","correct")}a=I(y),u.addEventListener("click",()=>b(!0)),g.addEventListener("click",()=>b(!1)),E.addEventListener("click",()=>{const e=a[o],t=e.sequence,n=t[Math.floor(Math.random()*t.length)];p=n,r=n.toLowerCase()===e.word.toLowerCase(),i=!0,C(n)}),h()}
