function initSamiyVnimatelniy(){const a=[["\u043C\u0430\u043A","\u0440\u0430\u043A","\u0431\u0430\u043A"],["\u0434\u043E\u043C","\u043A\u043E\u043C","\u0441\u043E\u043C"],["\u0431\u0443\u0434\u043A\u0430","\u0443\u0442\u043A\u0430","\u0434\u0443\u043B\u043A\u0430"],["\u043C\u043E\u043D\u0435\u0442\u0430","\u043A\u043E\u043D\u0444\u0435\u0442\u0430","\u0440\u0430\u043A\u0435\u0442\u0430"]],f={\u043C\u0430\u043A:"\u{1F33A}",\u0440\u0430\u043A:"\u{1F99E}",\u0431\u0430\u043A:"\u{1F6E2}\uFE0F",\u0434\u043E\u043C:"\u{1F3E0}",\u043A\u043E\u043C:"\u{1FAA8}",\u0441\u043E\u043C:"\u{1F41F}",\u0431\u0443\u0434\u043A\u0430:"\u{1F3E0}",\u0443\u0442\u043A\u0430:"\u{1F986}",\u0434\u0443\u043B\u043A\u0430:"\u{1F9EA}",\u043C\u043E\u043D\u0435\u0442\u0430:"\u{1FA99}",\u043A\u043E\u043D\u0444\u0435\u0442\u0430:"\u{1F36C}",\u0440\u0430\u043A\u0435\u0442\u0430:"\u{1F680}"},d=document.getElementById("sv-grid"),s=[...document.querySelectorAll(".sv-slot")],m=document.getElementById("sv-play"),p=document.getElementById("sv-check"),c=document.getElementById("sv-feedback"),r=t=>window.Voice?window.Voice.speak(t):(()=>{try{window.speechSynthesis.cancel();const e=new SpeechSynthesisUtterance(t);e.lang="ru-RU",window.speechSynthesis.speak(e)}catch{}})();let o=a[Math.floor(Math.random()*a.length)],i=[];function l(){d.innerHTML="",i=o.slice().sort(()=>Math.random()-.5),i.forEach(t=>{const e=document.createElement("div");e.className="sv-item",e.textContent=f[t]||"\u{1F539}",e.draggable=!0,e.dataset.word=t,e.addEventListener("dragstart",n=>n.dataTransfer.setData("text/plain",t)),e.addEventListener("click",()=>r(t)),d.appendChild(e)}),s.forEach(t=>{t.innerHTML=""}),c.textContent=""}s.forEach(t=>{t.addEventListener("dragover",e=>e.preventDefault()),t.addEventListener("drop",e=>{e.preventDefault();const n=e.dataTransfer.getData("text/plain"),h=[...d.children].find(u=>u.dataset.word===n);h&&(t.innerHTML="",t.appendChild(h))})}),m.addEventListener("click",()=>{o.forEach((t,e)=>setTimeout(()=>r(t),e*600))}),p.addEventListener("click",()=>{const t=s.map(n=>n.firstChild&&n.firstChild.dataset.word),e=JSON.stringify(t)===JSON.stringify(o);c.textContent=e?"\u041E\u0442\u043B\u0438\u0447\u043D\u043E!":"\u041F\u043E\u0440\u044F\u0434\u043E\u043A \u0434\u0440\u0443\u0433\u043E\u0439",c.style.color=e?"#065f46":"#7f1d1d",e&&setTimeout(()=>{o=a[Math.floor(Math.random()*a.length)],l()},1e3)}),l()}
